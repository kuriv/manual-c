# 文件访问

执行下面的代码，以只读方式打开指定的文件。

```c
#include <stdio.h>

int main(int argc, char const *argv[])
{
    FILE *fp;
    fp = fopen("index.txt", "r");
    fclose(fp);
    return 0;
}
```

执行下面的代码，从文件中逐个读取字符并输出。

```c
#include <stdio.h>

int main(int argc, char const *argv[])
{
    FILE *fp;
    int c;
    fp = fopen("index.txt", "r");
    while ((c = getc(fp)) != EOF)
    {
        printf("%c", c);
    }
    fclose(fp);
    return 0;
}
```

执行下面的代码，逐个将字符写入文件中。

```c
#include <stdio.h>

int main(int argc, char const *argv[])
{
    FILE *fp;
    int c;
    fp = fopen("index.txt", "w+");
    c = 'H';
    putc(c, fp);
    c = 'e';
    putc(c, fp);
    c = 'l';
    putc(c, fp);
    c = 'l';
    putc(c, fp);
    c = 'o';
    putc(c, fp);
    c = ' ';
    putc(c, fp);
    c = 'W';
    putc(c, fp);
    c = 'o';
    putc(c, fp);
    c = 'r';
    putc(c, fp);
    c = 'l';
    putc(c, fp);
    c = 'd';
    putc(c, fp);
    c = '!';
    putc(c, fp);
    fclose(fp);
    return 0;
}
```

执行下面的代码，实现文件的格式化输入或输出。

```c
#include <stdio.h>

int main(int argc, char const *argv[])
{
    FILE *fp;
    int i;
    float f;
    char s[20];
    fp = fopen("index.txt", "w+");
    fprintf(fp, "%d %f %s", 233, 6.66, "Hello World!");
    rewind(fp);
    fscanf(fp, "%d %f %s", &i, &f, s);
    printf("%d %f %s", i, f, s);
    fclose(fp);
    return 0;
}
```

